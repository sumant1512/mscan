<div class="dashboard-container">
  <h2>Credit Dashboard</h2>

  <div *ngIf="loading$ | async" class="loading">Loading credit information...</div>

  <div *ngIf="!(loading$ | async) && balance" class="dashboard-content">
    <!-- Balance Cards -->
    <div class="stats-grid">
      <div class="stat-card primary">
        <div class="stat-icon">ğŸ’°</div>
        <div class="stat-value">{{ balance.balance }}</div>
        <div class="stat-label">Available Credits</div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">ğŸ“¥</div>
        <div class="stat-value">{{ balance.total_received }}</div>
        <div class="stat-label">Total Purchased</div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">ğŸ“¤</div>
        <div class="stat-value">{{ balance.total_spent }}</div>
        <div class="stat-label">Total Spent</div>
      </div>

      <div class="stat-card">
        <div class="stat-icon">ğŸ“Š</div>
        <div class="stat-value">{{ balance.total_coupons_created }}</div>
        <div class="stat-label">Coupons Created</div>
      </div>
    </div>

    <!-- Recent Requests -->
    <div class="recent-section">
      <div class="section-header">
        <h3>Recent Credit Requests</h3>
        <a routerLink="/tenant/credits/history" class="view-all-link">View All â†’</a>
      </div>

      <div *ngIf="recentRequests.length === 0" class="no-data">
        No credit requests yet
      </div>

      <div *ngIf="recentRequests.length > 0" class="requests-list">
        <div *ngFor="let request of recentRequests" class="request-item">
          <div class="request-info">
            <div class="request-amount">{{ request.requested_amount }} credits</div>
            <div class="request-date">{{ request.requested_at | date: 'short' }}</div>
          </div>
          <span [class]="getStatusClass(request.status)" class="status-badge">
            {{ request.status }}
          </span>
        </div>
      </div>
    </div>

    <!-- Quick Actions -->
    <div class="actions-card">
      <h3>Quick Actions</h3>
      <div class="actions-grid">
        <a routerLink="/tenant/credits/request" class="action-button">
          <span class="action-icon">â•</span>
          <span class="action-text">Request Credits</span>
        </a>
        <a routerLink="/tenant/credits/pending" class="action-button">
          <span class="action-icon">â³</span>
          <span class="action-text">Pending Requests</span>
        </a>
        <a routerLink="/tenant/credits/history" class="action-button">
          <span class="action-icon">ğŸ“œ</span>
          <span class="action-text">View History</span>
        </a>
        <a routerLink="/tenant/coupons/create" class="action-button">
          <span class="action-icon">ğŸŸï¸</span>
          <span class="action-text">Create Coupon</span>
        </a>
      </div>
    </div>
  </div>
</div>
